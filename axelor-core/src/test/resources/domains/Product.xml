<?xml version="1.0" ?>
<domain-models xmlns="http://axelor.com/xml/ns/domain-models"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://axelor.com/xml/ns/domain-models https://axelor.com/xml/ns/domain-models/domain-models_8.0.xsd">

  <module name="test" package="com.axelor.test.db"/>

  <entity name="Product" table="TEST_PRODUCT" cacheable="true" repository="none">

    <one-to-one name="config" ref="ProductConfig" mappedBy="product"/>

    <extra-code><![CDATA[
    public void setConfig(ProductConfig config) {
        if (getConfig() != null) {
            getConfig().setProduct(null);
        }
        if (config != null) {
            config.setProduct(this);
        }
        this.config = config;
    }
    ]]></extra-code>

  </entity>

</domain-models>
